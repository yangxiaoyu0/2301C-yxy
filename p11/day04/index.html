<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="index.css">
</head>

<body>
  <h1 style="color: #fff;">2301C点名器</h1>
  <div style="width: 100%; color: #fff; text-align: right; font-size: 30px;">
   时间：<span id="time" style="margin-right: 100px; "></span>
  </div>
  <div class="box">
    <div id="abc" >

    </div>
    <div class="right">
      <h2 id="l">选中的人是：</h2>
      <div>
        <button onclick="one()">随机一个</button>
        <button onclick="two()">随机两个</button>
        <button onclick="nan()">随机男生</button>
        <button onclick="n()">随机女生</button>
      </div>
    </div>
  </div>
</body>
<script>
  /**
   * 实时更新时间
  */
  function b() {
    setInterval(() => {
      document.getElementById('time').innerHTML = new Date().toLocaleString()
    }, 1000);
  }
  b()
  /**
   * 姓名数组
  */
  let arr = [
      { name: '杨浩淇', flag: 0 },
      { name: '刘博文', flag: 0 },
      { name: '余道林', flag: 0 },
      { name: '张志辉', flag: 0 },
      { name: '展立业', flag: 0 },
      { name: '赵中阳', flag: 0 },
      { name: '周天龙', flag: 0 },
      { name: '王志阳', flag: 0 },
      { name: '李媛媛', flag: 1 },
      { name: '冯兴微', flag: 1 },
      { name: '张梦佳', flag: 1 },
      { name: '张秋景', flag: 1 },
      { name: '王婷婷', flag: 1 },
      { name: '冯士靖', flag: 0 },
      { name: '付少聪', flag: 0 },
      { name: '佘晗尊', flag: 0 },
      { name: '徐贺翔', flag: 0 },
      { name: '杨子乐', flag: 0 },
      { name: '张赛辉', flag: 0 },
      { name: '曹世豪', flag: 0 },
      { name: '赵晓宁', flag: 0 },
      { name: '曹浩然', flag: 0 },
      { name: '杨晓宇', flag: 0 },
      { name: '张清莲', flag: 1 },
      { name: '李超凡', flag: 0 },
      { name: '曹博文', flag: 0 },
      { name: '韩锡金', flag: 0 },
      { name: '孙健', flag: 0 },
      { name: '丁卓肖', flag: 0 },
      { name: '陈亚东', flag: 0 },
      { name: '王凯', flag: 0 },
      { name: '李炎沛', flag: 0 },
      { name: '裴丽珂', flag: 1 }
    ]
    /**
     * 渲染左侧姓名数据
    */
    function a() {
    for (let index = 0; index < arr.length; index++) {
      if ((index + 1) % 5 == 0) {
        document.getElementById('abc').innerHTML += `<span><b>${arr[index].name}</b></span><br>`
      } else {
        document.getElementById('abc').innerHTML += `<span><b>${arr[index].name}</b></span>`
      }
    }
  }
  a()
  /**
   * 随机数
  */
  function random() {
    return Math.floor(Math.random() * arr.length)
  }
  /**
   * 给dom元素赋值
  */
  function dom(a,b) {
    if(a && b){
      document.getElementById('l').innerHTML = '选中的人是：' +a +',' +b

    }else{
      document.getElementById('l').innerHTML = '选中的人是：' +a

    }
  }
  /**
   *  关闭定时器
  */
  function settime(a) {
    setTimeout(() => {
      clearInterval(a)
    }, 2000);
  }
  /**
   * 单人点名
  */
  function one() {
    let a = setInterval(() => {
      dom(arr[random()].name)
      jb()
    }, 50);
    settime(a)
  }
  /**
   * 双人点名
  */
  function two() {
    let a = setInterval(() => {
      dom(arr[random()].name,arr[random()].name)
      jb()
    }, 50);
    settime(a)

  }
  /**
   * 点名男
  */
  function nan() {
    let arr1 = arr.filter(item =>item.flag==0)
      let a = setInterval(() => {
      let f = random()
      if (arr[f].flag == 0) {
      dom(arr[random()].name)
      } else {
        dom(arr1[Math.floor(Math.random() * arr1.length)].name)
      }
      jb()
    }, 50);
    settime(a)
  }
  /**
   * 点名女
  */
  function n() {
    let arr1 = arr.filter(item =>item.flag==1)
    let a = setInterval(() => {
      let f = random()
      if (arr[f].flag == 1) {
        // console.log(55555);
      dom(arr[random()].name)
      } else {
        // console.log(1111);
        dom(arr1[Math.floor(Math.random() * arr1.length)].name)
      }
    }, 50);
    jb()
    settime(a)
  }
  /**
   * 文字渐变
  */
  function jb (){
    let a = Math.floor(Math.random() *255)
    let b = Math.floor(Math.random() *255)
    let c = Math.floor(Math.random() *255)
    console.log(a);
    document.getElementById('abc').style.background = `linear-gradient(to right, rgb(${a},${b},${c}), rgb(${c},${a},${b}), rgb(${b},${a},${c}))`
    document.getElementById('abc').style.webkitBackgroundClip = 'text';
    document.getElementById('abc').style.webkitTextFillColor = 'transparent';
  }
  jb()
</script>

</html>